{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for starting and stopping music streaming sessions in a FastAPI application. It manages stream sessions, tracks, and user dependencies, and constructs stream URLs for media playback.", "external_files": ["app/db/session.py", "app/db/models.py", "app/schemas/stream.py", "app/dependencies.py"], "external_methods": ["get_db", "current_user"], "published": ["router"], "classes": [{"name": "StreamStartResponse", "description": "Schema for the response when starting a stream, including session ID, track ID, and stream URL."}], "methods": [{"name": "start_stream", "description": "Creates a streaming session for a specified track and returns a URL for streaming."}, {"name": "stop_stream", "description": "Stops an active streaming session if owned by the current user."}], "calls": ["db.query", "db.add", "db.commit", "db.refresh", "HTTPException", "StreamStartResponse"], "search-terms": ["FastAPI streaming API", "music stream session", "track ID handling", "stream URL generation", "StreamSession management"], "state": 2, "file_id": 55, "knowledge_revision": 188, "git_revision": "f5822743a73f46190891d6d890ec3f61a8d3e7c1", "revision_history": [{"138": "05ef662fb570c187058fc0ae1ccec2febe13101e"}, {"155": "05ef662fb570c187058fc0ae1ccec2febe13101e"}, {"188": "f5822743a73f46190891d6d890ec3f61a8d3e7c1"}], "ctags": [], "filename": "BackendAPI/app/routers/stream.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/music-streaming-service-21915-22054.git:kavia-main"}