{"is_source_file": true, "format": "Python", "description": "This file defines API routes using FastAPI for managing user playlists in a music streaming service. It includes endpoints for listing, creating, retrieving, updating, and deleting playlists, with utility functions for converting database models to response schemas.", "external_files": ["app/db/session.py", "app/db/models.py", "app/schemas/playlists.py", "app/dependencies.py"], "external_methods": ["get_db()", "current_user()"], "published": ["router"], "classes": [{"name": "PlaylistCreate", "description": "Schema for creating a playlist"}, {"name": "PlaylistUpdate", "description": "Schema for updating a playlist"}, {"name": "PlaylistSummary", "description": "Schema for a brief playlist overview"}, {"name": "PlaylistDetail", "description": "Schema for detailed playlist information including tracks"}, {"name": "TrackInfo", "description": "Schema for track information within a playlist"}, {"name": "User", "description": "User model/schema, representing authenticated users"}], "methods": [{"name": "PlaylistSummary to_summary(p: Playlist)", "description": "Converts a Playlist object to a PlaylistSummary schema", "scope": "", "scopeKind": ""}, {"name": "TrackInfo to_trackinfo(t: Track)", "description": "Converts a Track object to a TrackInfo schema", "scope": "", "scopeKind": ""}, {"name": "PlaylistDetail to_detail(p: Playlist)", "description": "Converts a Playlist object to a detailed PlaylistDetail schema, including tracks", "scope": "", "scopeKind": ""}, {"name": "create_playlist(payload: PlaylistCreate, user: User = Depends(current_user), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delete_playlist(playlist_id: int, user: User = Depends(current_user), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_playlist(playlist_id: int, user: User = Depends(current_user), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_playlists(user: User = Depends(current_user), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_playlist(playlist_id: int, payload: PlaylistUpdate, user: User = Depends(current_user), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["db.query(Playlist)", "db.add(p)", "db.commit()", "db.refresh(p)", "db.delete(p)"], "search-terms": ["FastAPI playlist endpoints", "Playlist CRUD operations", "SQLAlchemy models", "Playlist schemas", "Music streaming service API"], "state": 2, "file_id": 52, "knowledge_revision": 133, "git_revision": "05ef662fb570c187058fc0ae1ccec2febe13101e", "ctags": [{"_type": "tag", "name": "create_playlist", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def create_playlist(payload: PlaylistCreate, user: User = Depends(current_user), db: Session = D/", "language": "Python", "kind": "function", "signature": "(payload: PlaylistCreate, user: User = Depends(current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_playlist", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def delete_playlist(playlist_id: int, user: User = Depends(current_user), db: Session = Depends(/", "language": "Python", "kind": "function", "signature": "(playlist_id: int, user: User = Depends(current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_playlist", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def get_playlist(playlist_id: int, user: User = Depends(current_user), db: Session = Depends(get/", "language": "Python", "kind": "function", "signature": "(playlist_id: int, user: User = Depends(current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_playlists", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def list_playlists(user: User = Depends(current_user), db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(user: User = Depends(current_user), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^router = APIRouter(prefix=\"\\/api\\/playlists\", tags=[\"Playlists\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "to_detail", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def to_detail(p: Playlist) -> PlaylistDetail:$/", "language": "Python", "typeref": "typename:PlaylistDetail", "kind": "function", "signature": "(p: Playlist)"}, {"_type": "tag", "name": "to_summary", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def to_summary(p: Playlist) -> PlaylistSummary:$/", "language": "Python", "typeref": "typename:PlaylistSummary", "kind": "function", "signature": "(p: Playlist)"}, {"_type": "tag", "name": "to_trackinfo", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def to_trackinfo(t: Track) -> TrackInfo:$/", "language": "Python", "typeref": "typename:TrackInfo", "kind": "function", "signature": "(t: Track)"}, {"_type": "tag", "name": "update_playlist", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/playlists.py", "pattern": "/^def update_playlist(playlist_id: int, payload: PlaylistUpdate, user: User = Depends(current_user/", "language": "Python", "kind": "function", "signature": "(playlist_id: int, payload: PlaylistUpdate, user: User = Depends(current_user), db: Session = Depends(get_db))"}], "hash": "e0e4bcaca435c5ec61f2e25b02a1bd39", "format-version": 4, "code-base-name": "WebFrontend", "filename": "BackendAPI/app/routers/playlists.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/api\\/playlists\", tags=[\"Playlists\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"133": "05ef662fb570c187058fc0ae1ccec2febe13101e"}]}