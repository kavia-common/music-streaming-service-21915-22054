{"is_source_file": true, "format": "Python (FastAPI)", "description": "This file defines admin API endpoints for managing users and music tracks in a music streaming service. It includes routes for listing users, creating music tracks, and listing music tracks, utilizing dependencies, database models, and schemas.", "external_files": ["app/db/session.py", "app/db/models.py", "app/schemas/admin.py", "app/schemas/common.py", "app/dependencies.py"], "external_methods": ["get_db", "admin_required"], "published": ["router"], "classes": [{"name": "APIRouter", "description": "FastAPI router instance used to define API routes."}], "methods": [{"name": "list_users(page: int = Query(default=1, ge=1), page_size: int = Query(default=10, ge=1, le=100), db: Session = Depends(get_db), _: User = Depends(admin_required))", "description": "Returns a paginated list of users in JSON format for admin view.", "scope": "", "scopeKind": ""}, {"name": "create_music(payload: AdminCreateTrack, db: Session = Depends(get_db), _: User = Depends(admin_required))", "description": "Creates a new music track entry in the database.", "scope": "", "scopeKind": ""}, {"name": "list_music(db: Session = Depends(get_db), _: User = Depends(admin_required))", "description": "Lists the latest music tracks available.", "scope": "", "scopeKind": ""}, {"name": "dict to_dict(u: User)", "scope": "list_users", "scopeKind": "function", "description": "unavailable"}], "calls": ["db.query", "db.add", "db.commit", "db.refresh"], "search-terms": ["admin API endpoints", "music track creation", "user listing", "FastAPI APIRouter", "admin dependency", "music track schema", "paginated users"], "state": 2, "file_id": 56, "knowledge_revision": 139, "git_revision": "05ef662fb570c187058fc0ae1ccec2febe13101e", "ctags": [{"_type": "tag", "name": "create_music", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/admin.py", "pattern": "/^def create_music(payload: AdminCreateTrack, db: Session = Depends(get_db), _: User = Depends(adm/", "language": "Python", "kind": "function", "signature": "(payload: AdminCreateTrack, db: Session = Depends(get_db), _: User = Depends(admin_required))"}, {"_type": "tag", "name": "list_music", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/admin.py", "pattern": "/^def list_music(db: Session = Depends(get_db), _: User = Depends(admin_required)):  # type: ignor/", "language": "Python", "kind": "function", "signature": "(db: Session = Depends(get_db), _: User = Depends(admin_required))"}, {"_type": "tag", "name": "list_users", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/admin.py", "pattern": "/^def list_users(page: int = Query(default=1, ge=1), page_size: int = Query(default=10, ge=1, le=1/", "language": "Python", "kind": "function", "signature": "(page: int = Query(default=1, ge=1), page_size: int = Query(default=10, ge=1, le=100), db: Session = Depends(get_db), _: User = Depends(admin_required))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/admin.py", "pattern": "/^router = APIRouter(prefix=\"\\/api\\/admin\", tags=[\"Admin\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "to_dict", "path": "/home/kavia/workspace/code-generation/music-streaming-service-21915-22054/BackendAPI/app/routers/admin.py", "pattern": "/^    def to_dict(u: User) -> dict:$/", "file": true, "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(u: User)", "scope": "list_users", "scopeKind": "function"}], "hash": "2c7c1ab6496bc82eb4dcfac5c01da297", "format-version": 4, "code-base-name": "WebFrontend", "filename": "BackendAPI/app/routers/admin.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/api\\/admin\", tags=[\"Admin\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"139": "05ef662fb570c187058fc0ae1ccec2febe13101e"}]}